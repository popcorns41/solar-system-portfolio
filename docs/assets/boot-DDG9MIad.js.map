{"version":3,"file":"boot-DDG9MIad.js","sources":["../../scripts/boot.js"],"sourcesContent":["import {preloadAssets} from \"./mediaHandler/mediaCache.js\";\n\n\nfunction isMobile() {\n  return window.innerWidth <= 768;\n}\n\nfunction addStaticParam() {\n  const url = new URL(window.location.href);\n  url.searchParams.set(\"static\", \"\"); // value-less param\n  window.location.href = url.toString();\n}\n\nexport function initBoot(isDev,isStatic){\n  if (isMobile() && !(isStatic)) {\n    const overlay = document.getElementById('mobileOverlay');\n    const btn = document.getElementById('continueAnywayBtn');\n    overlay.style.display = 'flex';\n\n    btn.addEventListener('click', () => {\n      addStaticParam();\n    });\n  }else{\n    init(isDev,isStatic);\n  }\n}\n\nfunction init(isDevMode,isStaticMode){\n    if (!(isDevMode)){\n      initHomePage();\n    }else{\n      initDevHomePage();\n    }\n  preloadAssets();\n  if (isStaticMode){\n    enterStaticPageFunctionality();\n  }else{\n    enterSystemFunctionality();\n  }\n}\n\nfunction enterStaticPageFunctionality(){\n  document.getElementById(\"enterSystem\").addEventListener(\"click\", () => {\n    const title = document.getElementById('title');\n    const intro_content = document.getElementById('intro-content');\n    const planetUI = document.getElementById('planetCenter');\n\n    planetUI.style.pointerEvents = \"none\";\n\n    title.style.transition = \"0.5s opacity ease\";\n    intro_content.style.transition = \"0.5s opacity ease\";\n\n    title.style.opacity = \"0\";\n    intro_content.style.opacity = \"0\";\n\n    window.dispatchEvent(new CustomEvent(\"circularBorder\"), { detail: { delay: 0 } });\n    window.dispatchEvent(new CustomEvent(\"beginPlanetTransform\", {\n      detail: { translateY: 41 }\n    }));\n\n    const startIndex = 6;\n    window.dispatchEvent(new CustomEvent(\"infoChange\",{\n      detail:{index:startIndex}\n    }));\n\n    window.planetIndex = startIndex;\n  });\n}\n\nfunction enterSystemFunctionality(){\n  document.getElementById(\"enterSystem\").addEventListener(\"click\", () => {\n    console.log(\"button pressed!\")\n\n    const introText = document.getElementById('introText');\n    const intro_content = document.getElementById('intro-content');\n\n    introText.style.display = 'none';\n    intro_content.style.display = 'none';\n\n    window.dispatchEvent(new CustomEvent(\"solarTransformDownZoomOutCue\"));\n\n    window.addEventListener(\"sunZoomComplete\", () => {\n      console.log(\"Sun transform complete! Starting next sequence...\");\n      //intro.style.opacity='0';\n      const revealEvent = new  CustomEvent(\"revealPlanets\",{\n        detail: {delay:1000}\n      });\n      setTimeout(()=>{window.dispatchEvent(revealEvent)},500);\n\n      window.addEventListener(\"planetsInView\", () => {\n        document.getElementById('threeCanvas').style.pointerEvents = 'auto';\n        window.dispatchEvent(new CustomEvent(\"beginTutorial\"));\n      });\n    });\n  });\n}\n\n\nfunction initDevHomePage(){\n  const intro_content = document.getElementById('intro-content');\n  intro_content.style.display = 'none';\n  document.getElementById('threeCanvas').style.pointerEvents = 'auto';\n}\n\nfunction initHomePage(){\n  console.log(\"DOM fully loaded and parsed, starting boot process\");\n\n    window.addEventListener('sunLoaded', () => {console.log(\"sun loaded, starting animation\");});\n\n    const introText = document.getElementById('introText');\n    const introInstructions = document.getElementById('instruction');\n\n    document.getElementById('threeCanvas').style.pointerEvents = 'none';\n\n    // Step 1: Show title\n    setTimeout(() => {\n      introText.style.opacity = '1';\n      introText.style.transform = 'translateY(0)';\n    }, 200);\n\n    // Step 2: Show instructions later\n    setTimeout(() => {\n      introInstructions.style.opacity = '1';\n      introInstructions.style.transform = 'translateY(0)';\n      \n    }, 1500);\n    setTimeout(() => {\n      window.dispatchEvent(new Event(\"beginSunrise\"));\n    }, 3000);\n\n    window.addEventListener(\"sunRose\", () => {\n      console.log(\"sun has arisen B-)\")\n      const generateButton = document.getElementById(\"enterSystem\");\n      generateButton.style.opacity = \"1\";\n      generateButton.style.pointerEvents = \"auto\";\n    });\n}\n\n"],"names":["isMobile","addStaticParam","url","initBoot","isDev","isStatic","overlay","btn","init","isDevMode","isStaticMode","initDevHomePage","initHomePage","preloadAssets","enterStaticPageFunctionality","enterSystemFunctionality","title","intro_content","planetUI","startIndex","introText","revealEvent","introInstructions","generateButton"],"mappings":"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"}